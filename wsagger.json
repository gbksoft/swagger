{
   "wsagger": "0.0.2",
   "proto": "socket.io",
   "host": "localhost",
   "port": "2870",
   "path": "/front_space",
   "info": {
      "description": "API for GBK chat",
      "version": "1.0.0",
      "title": "GBKSOFT chat API"
   },
   "scenarios": [
       {
          "name": "connect to socket.io",
          "summary": " ",
          "parameters": [
             {             
                "in": "formData",
                "name": "namespace",
                "description": "connect to socket.io",
                "dataType": "string"
             }
          ],
          "operationId": "connect",
          "flow": [
             {
                "action": "connect", 
                "key": "socket.io", 
                "data": {"token": "@"},
                "dataType": "object"
             }
          ]
       },
       {
          "name": "sendBroadcastMessage",
          "summary": " ",
          "parameters": [
             { 
               "in": "formData",
               "name": "messageText",
               "description": "broadcast message text",
                "dataType": "string"
             }
          ],
          "condition": "connect",
          "operationId": "",
          "flow": [
             {
                "action": "request", 
                "key": "sendMessage", 
                "data": {"messageText": "@", "type": "broadcast"},
                "dataType": "object"
             }
          ]
       },
       {
          "name": "sendGroupMessage",
          "summary": " ",
          "parameters": [
             {
                "in": "formData",
                "name": "messageText",
                "description": "group message text",
                "dataType": "string"
             },
             {
                "in": "formData",
                "name": "groupId",
                "description": "group id",
                "dataType": "string"
             }
          ],
          "condition": "connect",
          "operationId": "",
          "flow": [
             {
                "action": "request", 
                "key": "changeGroup", 
                "data": {"groupId": "@"},
                "dataType": "object"
             },
             {
                "action": "request", 
                "key": "sendMessage", 
                "data": {"groupId": "@"},
                "dataType": "object"
             },
             {
                "action": "response", 
                "key": "message", 
                "data": {"messageText": "@", "groupId": "@"},
                "dataType": "object"
             }
          ]
       },
       {
          "name": "sendUserMessage",
          "summary": " ",
          "parameters": [
             {
                "in": "formData",
                "name": "messageText",
                "description": "user message text",
                "dataType": "string"
             },
             {
                "in": "formData",
                "name": "recipientId",
                "description": "recipient id",
                "dataType": "string"
             }
          ],
          "operationId": "",
          "condition": "connect",
          "flow": [
             {
                "action": "request", 
                "key": "sendMessage", 
                "data": {"messageText": "@", "type": "user", "recipientId": "@"},
                "dataType": "object"
             }
          ]
       }   
    ]
}

