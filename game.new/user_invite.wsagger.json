{
  "wsagger": "0.0.3",
  "info": {
      "description": "GBKSOFT chat API",
      "version": "1.0.0",
      "title": "GBKSOFT chat API"
  },

  "REST_" : {
    "dev":  { "proto": "https:", "host": "gambling-game-api.dev.gbksoft.net",  "port": "443", "path": "/rest" },
    "test": { "proto": "https:", "host": "gambling-game-api.dev.gbksoft.net",  "port": "443", "path": "/rest" },    
    "live": { "proto": "https:", "host": "gambling-game-api.live.gbksoft.net", "port": "443", "path": "/rest" },
    "loc":  { "proto": "https:", "host": "gambling-game-api.dev.gbksoft.net",  "port": "443", "path": "/rest" },
    "loc2": { "proto": "https:", "host": "gambling-game-api.dev.gbksoft.net",  "port": "443", "path": "/rest" }
  },
  
  "user_" : {
    "fenix":  { "username": "stalker.fenix@gmail.com",  "password": "123456", "id": "1"},
    "geralt": { "username": "stalker.geralt@gmail.com", "password": "123456", "id": "2"}
  },
  
  "server_" : {
    "dev":  { "proto": "socket.io", "host": "gambling-game-node.dev.gbksoft.net",  "port": "28790", "path": "/front_space" },
    "test": { "proto": "socket.io", "host": "gambling-game-node.test.gbksoft.net", "port": "28791", "path": "/front_space" },
    "live": { "proto": "socket.io", "host": "gambling-game-node.live.gbksoft.net", "port": "28792", "path": "/front_space" },
    "loc":  { "proto": "socket.io", "host": "127.0.0.1",                           "port": "28780", "path": "/front_space" },
    "loc2": { "proto": "socket.io", "host": "127.0.0.1",                           "port": "28788", "path": "/front_space" }
  },


  "scenarios": [
    {
      "name": "connect to socket.io with token/CID",
      "parameters": [
      ],
          
      "data": [
        {
          "action"  : "load.loadJSON",
          "wait"    : { "delay": 3000 }, 
          "data"    : "login_CID.wsagger.json", 
          "dataOut" : "login_CID",
          "expected": { }
        },

        { 
          "action"  : "call.callWsagger",
          "wait"    : { "delay": 30000 }, 
          "data"    : "{{login_CID}}",
          "expected": { "doer.socket_io": {} },
          "dataOut" : "doer.socket_io" 
        },

        {
          "action"  : "socket_io.emit",
          "data"    : ["inviteUser", {"opponentId": 1, "rate": 0}],
          "wait"    : { "delay": 3000 },
          "expected": [[ "gameInitialized", {"opponentId": 1, "gameId": "{{!gameId}}", "rate": 0} ]]
        }
      ]
    }
  ]  
}

