{
   "$schema": "http://json-schema.org/draft-04/schema#",
   "title": "wsagger.json",
   "type": "object",
   "required": ["wsagger", "info", "server_", "scenarios"],
   "properties": {
      "wsagger": {
         "type": "string",
         "description": "Wsagger version"
      },
      "info": {
         "type": "object",
         "required": ["version", "title"],
         "properties": {
            "description": {
               "type": "string"
            },
            "version": {
               "type": "string"
            },
            "title":  {
               "type": "string"
            }
         }
      },
      "server_": {
         "type": "object"
      },
      "user_": {
         "type": "object"
      },
      "scenarios": {
         "title": "API test scenarios array",
         "type": "array",
         "items": {
            "title": "API test scenario",
            "type": "object",
            "required": ["name", "parameters", "flow"],
            "properties": {
               "name": {
                  "type": "string"
               },
               "parameters": {
                  "type": "array",
                  "items": {
                     "type": "object",
                     "required": ["in", "name", "description", "dataType"],
                     "properties": {
                        "name": {
                           "type": "string"
                        },
                        "description": {
                           "type": "string"
                        },
                        "dataType": {
                           "type": "string"
                        }
                     }
                  }
               },
               "flow": {
                  "type": "array",
                  "items": {
                     "type": "object",
                     "properties": {
                        "worker": {
                           "type": "string"
                        },
                        "action": {
                           "type": "string"
                        },
                        "data": {
                        },
                        "result": {
                        },
                        "waitForResponse": {
                           "type": "object",
                           "required": ["delay"],
                           "properties": {
                              "delay": {
                                 "type": "integer"
                              },
                              "data": {
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      }
   }
}
