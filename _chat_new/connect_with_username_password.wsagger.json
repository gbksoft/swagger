{
   "wsagger": "0.0.3",
   "info": {
      "description": "GBKSOFT chat API",
      "version": "1.0.0",
      "title": "GBKSOFT chat API"
   },

          "name": "connect to socket.io with username/password",
          "summary": " ",
          "parameters": [
             { "in": "formData", "name": "username", "description": "", "dataType": "string", "default_in": "pavlo" },
             { "in": "formData", "name": "password", "description": "", "dataType": "string", "default_in": "pavlo" }
          ],
          "flow": [
             { "action": "login_and_connect", "data": [{"path": "/v1/user/login", "queryData": "username={{username}}&password={{password}}"}],
               "wait": {
                   "delay": 3000,
                   "expected": [
                      ["connected", {"APIVersion": "Animal.1.2.0"}],
                      ["joinedTo",  {"groupId": "0"}],
                      ["history",   {}],
                      ["users",     {}],
                      ["unread",    {}]
                   ]
                }
             },

             {
               "action": "request", "data": ["restrictUsers", {"groupId": "0", "period": -1, "userIds": ["7"]}],
               "wait": { "delay": 3000, "expected": [["restrictedRights",  {"groupId": "0", "period": -1, "userIds": ["7"]}]] }
             },

             {
               "action": "login_and_connect", "data": [{"path": "/v1/user/login", "queryData": "username=guest&password="}],
               "wait": { "delay": 3000, "expected": [["restrictedRights",  {"groupId": "0", "userIds": ["7"], "type":"no rights to join"}]] }
             }

          ]
}
