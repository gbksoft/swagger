{
  "wsagger": "0.0.3",
  "info": {
      "description": "GBKSOFT chat API",
      "version": "1.1.0",
      "title": "GBKSOFT chat API"
  },


  "name": "store/remove public file",

  "data": [
  
    { 
              "action"  : "call.callWsaggerFile",
              "data"    : [ "login_and_connect.wsagger.json", "{{REST.proto}}", "{{REST.host}}", "{{REST.port}}", "{{REST.path}}", "alexr", "", "{{server.proto}}", "{{server.host}}",  "{{server.port}}", "{{server.path}}" ],
              "wait"    : { "delay": 30000 }, 
              "expected": { "doer.socket_io": {} },
              "dataOut" : [ "doer.socket_io", "userId" ]
    },

    {
                "action"  : "load.loadFile",
                "data"    : "png/0.png", 
                "dataOut" : "data", 
                "wait"    : { "delay": 3000 }
    },

    {
                "action"  : "socket_io.emit",
                "data"    : ["storeFile", { "fileName": "test.png", "contentType": "image/png", "contentLength": 40953, "messageType": "group", "messageTypeId": "0" }, "{{data}}"],
                "expected": [[ "fileIsStored", { "url": "{{!url}}"} ]], 
                "wait"    : { "delay": 3000 }
    },

    {
                "action"  : "socket_io.emit",
                "data"    : ["removeFile", "{{url}}" ],
                "expected": [[ "fileIsRemoved", "{{url}}"]], 
                "wait"    : { "delay": 3000 }
    }

  ]
}
