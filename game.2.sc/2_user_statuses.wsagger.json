{
   "wsagger": "0.0.3",

   "info": {
      "description": "",
      "version": "1.0.0",
      "title": "Gambling Game socket.io API: getUsersOnline"
   },


   "REST_" : {
      "game": { "proto": "http", "host": "gambling-game-api.dev.gbksoft.net", "port": "80", "path": "/rest/v1/users/current" }
   },

   "server_" : {
      "loc":  { "proto": "socket.io", "host": "127.0.0.1",                          "port": "28780", "path": "/front_space" },
      "game": { "proto": "socket.io", "host": "gambling-game-node.dev.gbksoft.net", "port": "28790", "path": "/front_space" }
   },

   "user_" : {
       "fenix":      { "username": "stalker.fenix@gmail.com", "password": "123456", "id": "5"},
       "devgbksoft": { "username": "devgbksoft@gmail.com",    "password": "123456", "id": "4"}
   },

   "scenarios": [
       {
          "name": "getUsersOnline",
          
          "parameters": [
             { "in": "formData", "name": "userId"   , "description": "", "dataType": "string", "default_in": "5" },
             { "in": "formData", "name": "username" , "description": "", "dataType": "string", "default_in": "stalker.fenix@gmail.com" },
             { "in": "formData", "name": "password" , "description": "", "dataType": "string", "default_in": "123456" },
             
             { "in": "formData", "name": "userId2"  , "description": "", "dataType": "string", "default_in": "4" },
             { "in": "formData", "name": "username2", "description": "", "dataType": "string", "default_in": "devgbksoft@gmail.com" },
             { "in": "formData", "name": "password2", "description": "", "dataType": "string", "default_in": "123456" }
          ],
          
          "flow": [
             { 
               "worker": "2",
               "action": "login_and_connect", "data": [{"username": "{{username2}}", "password": "{{password2}}"}],
               "waitForResponse": { "delay": 3000, "data": [["connectedTo", {"userId": "{{userId}}"}]] }
             },
             { 
               "worker": "2",
               "action": "wait", "data": [{"delay": 1000}]
             },
             { 
               "worker": "2",
               "action": "disconnect"
             },

             { 
               "action": "login_and_connect", "data": [{"username": "{{username}}", "password": "{{password}}"}],
               "waitForResponse": { "delay": 3000, "data": [["connectedTo", {"userId": "{{!userId}}"}]] }
             },
             { 
               "action": "request", "data": ["getUsersOnline", {"type": "facebook"}], 
               "waitForResponse": { "delay": 3000, "data": [["usersOnline",   {"type": "facebook", "userIds": []}]] }
             },
             { 
               "waitForResponse": { "delay": 3000, "data": [["usersOffline",  {"type": "facebook", "userIds": ["{{userId2}}"]}]] }
             }
          ]
       }
    ]
}
