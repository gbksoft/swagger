{
   "$schema": "http://json-schema.org/draft-04/schema#",
   "title": "wsagger.json",
   "type": "object",
   "required": ["wsagger", "info", "server", "scenarios"],
   "properties": {
      "wsagger": {
         "type": "string",
         "description": "Wsagger internal ID"
      },
      "info": {
         "type": "object",
         "required": ["version", "title"],
         "properties": {
            "description": {
               "type": "string"
            },
            "version": {
               "type": "string"
            },
            "title":  {
               "type": "string"
            }
         }
      },
      "server": {
         "type": "object",
         "required": ["proto", "host", "port", "path"],
         "properties": {
            "proto": {
               "type": "string",
               "description": "server proto"
            },
            "host": {
               "type": "string",
               "description": "server host"
            },
            "port": {
               "type": "string",
               "description": "server port"
            },
            "path": {
               "type": "string",
               "description": "server path"
            }   
         }   
      },
      "scenarios": {
         "title": "API test scenarios array",
         "type": "array",
         "items": {
            "title": "API test scenario",
            "type": "object",
            "required": ["name", "parameters", "flow"],
            "properties": {
               "name": {
                  "type": "string"
               },
               "summary": {
                  "type": "string"
               },
               "condition": {
                  "type": "string"
               },
               "operationId": {
                  "type": "string"
               },
               "parameters": {
                  "type": "array",
                  "items": {
                     "type": "object",
                     "required": ["name", "description", "in", "dataType"],
                     "properties": {
                        "name": {
                           "type": "string"
                        },
                        "description": {
                           "type": "string"
                        },
                        "in": { 
                           "enum": ["formData", "data"] 
                        },
                        "data": {
                        },
                        "dataType": {
                        }
                     }
                  }  
               },
               "flow": {
                  "type": "array",
                  "items": {
                     "type": "object",
                     "required": ["action", "key", "data"],
                     "properties": {
                        "action": {
                           "type": "string"
                        },
                        "key": {
                           "type": "string"
                        },
                        "data": {
                        }
                     }   
                  } 
               }
            }
         }   
      }
   }
}   